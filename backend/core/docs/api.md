# swagger API ëª…ì„¸ì„œ

https://kim-jong-hyun.tistory.com/49

## ì „ì²´ API ëª©ë¡ (ìŠ¤ì›¨ê±° ë©”ë‰´íŒ ë¼ˆëŒ€)

í¬ê²Œ ê¸°íš(ì‹œë¦¬ì¦ˆ/ìºë¦­í„°/ì„¸ê³„ê´€/í”Œë¡¯)ê³¼ ì§‘í•„(íšŒì°¨/AI) íŒŒíŠ¸ë¡œ ë‚˜ëˆ„ì–´ êµ¬ì„±

| **êµ¬ë¶„** | **Method** | **API ì£¼ì†Œ (Endpoint)** | **ê¸°ëŠ¥ ì„¤ëª…** |
| --- | --- | --- | --- |
| **1. ë©”ì¸ ì‹œë¦¬ì¦ˆ** | `GET` | `/api/projects` | ë‚´ í”„ë¡œì íŠ¸(ì‹œë¦¬ì¦ˆ) ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `POST` | `/api/projects` | ìƒˆ ì‹œë¦¬ì¦ˆ ìƒì„±í•˜ê¸° |
| **2. ìºë¦­í„°** | `GET` | `/api/projects/{projectId}/characters` | í•´ë‹¹ ì‹œë¦¬ì¦ˆì˜ ìºë¦­í„° ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `POST` | `/api/projects/{projectId}/characters` | ìƒˆ ìºë¦­í„° ê¸°íší•˜ê¸° |
|  | `PATCH` | `/api/characters/{characterId}` | ê¸°ì¡´ ìºë¦­í„° ì •ë³´ ìˆ˜ì •í•˜ê¸° (ì¼ë¶€ ë³€ê²½) |
|  | `DELETE` | `/api/characters/{characterId}` | ìºë¦­í„° ì‚­ì œí•˜ê¸° |
| **3. ì„¸ê³„ê´€** | `GET` | `/api/projects/{projectId}/worldviews` | ì„¸ê³„ê´€ ì¹´í…Œê³ ë¦¬(ì¹´ë“œ) ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `POST` | `/api/projects/{projectId}/worldviews` | ìƒˆë¡œìš´ ì„¸ê³„ê´€ ì¹´ë“œ(ì¹´í…Œê³ ë¦¬) ìƒì„±í•˜ê¸° |
|  | `POST` | `/api/worldviews/{worldviewId}/terms` | ì„¸ê³„ê´€ ìš©ì–´(Term) ì¶”ê°€í•˜ê¸° |
|  | `POST` | `/api/worldviews/{worldviewId}/relationships` | ì„¸ê³„ê´€ ì¸ë¬¼ ê´€ê³„ì„± ì¶”ê°€í•˜ê¸° |
|  | `POST` | `/api/worldviews/{worldviewId}/entries` | ì„¸ê³„ê´€ ì»¤ìŠ¤í…€ ì„¤ì •(ì—ë””í„° ë³¸ë¬¸) ì¶”ê°€í•˜ê¸° |
| **4. í”Œë¡¯** | `GET` | `/api/projects/{projectId}/plots` | ì „ì²´ í”Œë¡¯ íƒ€ì„ë¼ì¸ ë° ì—°ê²° ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `POST` | `/api/projects/{projectId}/plots` | ìƒˆ í”Œë¡¯ ì¶”ê°€ ë° ìºë¦­í„°/íšŒì°¨ ì—°ê²°í•˜ê¸° |
|  | `PATCH` | `/api/plots/{plotId}` | í”Œë¡¯ ìˆœì„œ, ë‚´ìš© ë° ì—°ê²° íšŒì°¨ ìˆ˜ì •í•˜ê¸° |
| **5. ì§‘í•„(íšŒì°¨)** | `GET` | `/api/projects/{projectId}/episodes` | íšŒì°¨(ëª©ì°¨) ë¦¬ìŠ¤íŠ¸ ë° ìƒíƒœ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `POST` | `/api/projects/{projectId}/episodes` | ìƒˆ íšŒì°¨(ë¹ˆ ì›ê³ ì§€) ìƒì„±í•˜ê¸° |
|  | `GET` | `/api/episodes/{episodeId}` | ì—ë””í„° ì—´ ë•Œ íŠ¹ì • íšŒì°¨ ì „ì²´ ë³¸ë¬¸ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `PATCH` | `/api/episodes/{episodeId}` | â­ ì—ë””í„° ë³¸ë¬¸ ë¸”ë¡ ìë™ ì €ì¥ (AI ì—°ë™ìš©) |
| 6. Creative Zone
(ì§‘í•„ì‹¤ ìš°ì¸¡) | `GET` | `/api/projects/{projectId}/characters` | **[ìºë¦­í„°]** ìºë¦­í„° ë¶ˆëŸ¬ì˜¤ê¸° (2.1ê³¼ ë™ì¼) |
|  | `GET` | `/api/projects/{projectId}/worldviews` | **[ì„¸ê³„ê´€]** ë™ê¸°í™” ì¼œì§„ ì¹´í…Œê³ ë¦¬ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° (`?is_synced=true`) |
|  | `GET` | `/api/worldviews/{worldviewId}/terms` | **[ì„¸ê³„ê´€]** ìš©ì–´ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸° |
|  | `GET` | `/api/worldviews/{worldviewId}/relationships` | **[ì„¸ê³„ê´€]** íŠ¹ì • ì¸ë¬¼ ì¤‘ì‹¬ ê´€ê³„ì„± ë¶ˆëŸ¬ì˜¤ê¸° (`?character_id={id}`) |
|  | `POST` | `/api/episodes/{episodeId}/ai/synonyms` | **[AI ë„ìš°ë¯¸]** ğŸ’¡ ë‹¨ì–´ ì°¾ê¸° (ë¬¸ë§¥ ê¸°ë°˜ ëŒ€ì²´ì–´ ì¶”ì²œ) |
|  | `POST` | `/api/episodes/{episodeId}/ai/autocomplete` | **[AI ë„ìš°ë¯¸]** âœï¸ ì´ì–´ì“°ê¸° (í˜„ì¬ ì»¤ì„œ ë¸”ë¡ ê¸°ë°˜) |
|  | `POST` | `/api/episodes/{episodeId}/ai/transform-style` | **[AI ë„ìš°ë¯¸]** ğŸ­ ë¬¸ì²´ ë³€í™˜ (ì„ íƒëœ ë‹¨ì¼ ë¬¸ë‹¨ ìŠ¤íƒ€ì¼ ë³€ê²½) |
|  | `POST` | `/api/projects/{projectId}/ai/ask` | **[AI ë„ìš°ë¯¸]** ğŸ” ì„¤ì • ê²€ìƒ‰ (í˜„ì¬ íšŒì°¨ ê¸°ë°˜ ììœ  Q&A) |

---

# API ì„¤ê³„

## ë©”ì¸ ì‹œë¦¬ì¦ˆ

### 1. ì‹œë¦¬ì¦ˆ

- **API:** `GET /api/projects`
    - **Request: X**
    - **Response:**
    
    ```json
    {
      "success": true,
      "data": [
        {
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "title": "ë‚˜ì˜ ì‚¶ ì‹œë¦¬ì¦ˆ",
          "created_at": "2026-02-01T10:00:00Z",
          "updated_at": "2026-02-24T13:41:00Z" 
        },
        {
          "id": "987fcdeb-51a2-43d7-9012-345678901234",
          "title": "ìš°ì£¼ ë°©ë‘ì ì—°ëŒ€ê¸°",
          "created_at": "2026-01-15T09:30:00Z",
          "updated_at": "2026-02-20T18:20:00Z"
        }
      ],
      "total_count": 2
    }
    ```
    

- **API ì£¼ì†Œ:** `POST /api/projects`
    - **Request :**
    
    ```json
    {
      "title": "ìƒˆë¡œìš´ ë¬´í˜‘ ì‹œë¦¬ì¦ˆ"
    }
    ```
    
    > **ğŸ’¡** 
    DB ì„¤ê³„í•  ë•Œ `user_id`ë„ ìˆì—ˆì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìœ ì € ì•„ì´ë””ë¥¼ ë³´ë‚´ëŠ” ê²ƒì€ í•´í‚¹ì˜ ìœ„í—˜ì´ ìˆì–´ì„œ ì‹¤ë¬´ì—ì„  í•˜ì§€ ì•ŠìŒ. 
    ë°±ì—”ë“œê°€ ë¡œê·¸ì¸ í† í°ì„ ë³´ê³  ì•Œì•„ì„œ `user_id`ë¥¼ ì±„ì›Œ ë„£ê²Œ ë˜ë¯€ë¡œ í”„ë¡ íŠ¸ì—”ë“œëŠ” `title`ë§Œ ê¹”ë”í•˜ê²Œ ë³´ë‚´ë©´ ëœë‹¤.
    > 
    - **Response:**
        
        ```json
        {
          "success": true,
          "message": "ìƒˆë¡œìš´ ì‹œë¦¬ì¦ˆê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
          "data": {
            "id": "550e8400-e29b-41d4-a716-446655440000",
            "title": "ìƒˆë¡œìš´ ë¬´í˜‘ ì‹œë¦¬ì¦ˆ",
            "created_at": "2026-02-24T14:00:00Z",
            "updated_at": "2026-02-24T14:00:00Z"
          }
        }
        ```
        

---

## ê¸°íšì‹¤

### 2. ìºë¦­í„°

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/characters`
    
    ê¸°íšì‹¤ì˜ 'ìºë¦­í„°' íƒ­ì„ ëˆŒë €ì„ ë•Œ & ì§‘í•„ì‹¤ ìš°ì¸¡ 'Creative Zone' - ìºë¦­í„° ë“¤ì–´ê°ˆë•Œ ì‚¬ìš©í•˜ëŠ” API
    
    - **Request:**
        - ì£¼ì†Œì°½ì˜ `{projectId}` ë¶€ë¶„ì— í•´ë‹¹ ì‹œë¦¬ì¦ˆì˜ IDë¥¼ ë„£ì–´ì„œ ìš”ì²­
    - **Response:**
    
    ```json
    {
      "success": true,
      "data": [
        {
          "id": "char-uuid-001",
          "name": "ë§ˆê¸¸ì´ˆ",
          "job": "ì£¼ì¸ê³µ / ê²€ì‚¬",
          "personality": ["ì—´í˜ˆ", "ë‹¨ìˆœí•¨", "ì˜ë¦¬"],
          "description": "ì„¸ìƒì„ êµ¬ì›í•  ìš´ëª…ì„ ê°€ì§„ ì†Œë…„. ë°¥ì„ ì•„ì£¼ ë§ì´ ë¨¹ëŠ”ë‹¤.",
          "updated_at": "2026-02-24T13:00:00Z"
        },
        {
          "id": "char-uuid-002",
          "name": "ì—°ìš°",
          "job": "ìˆ˜ì„ ë§ˆë²•ì‚¬",
          "personality": ["ëƒ‰ì² í•¨", "ì™„ë²½ì£¼ì˜"],
          "description": "ê¸¸ì´ˆì˜ ë¼ì´ë²Œì´ì ì¡°ë ¥ì.",
          "updated_at": "2026-02-24T14:05:00Z"
        }
      ]
    }
    ```
    

- **API ì£¼ì†Œ:** `POST /api/projects/{projectId}/characters`
    
    ì‚¬ìš©ìê°€ ê¸°íšì‹¤ì—ì„œ **[+ ìƒˆ ìºë¦­í„° ì¶”ê°€]** ë²„íŠ¼ì„ ëˆ„ë¥´ê³  ì •ë³´ë¥¼ ì…ë ¥í•œ ë’¤ ì €ì¥í•  ë•Œ ì˜ëŠ” API
    
    - **Request:**
        
        ```json
        {
          "name": "ìƒˆë¡œìš´ ë¹ŒëŸ°",
          "job": "ë§ˆì™•êµ° ê°„ë¶€",
          "personality": ["ì”í˜¹í•¨", "ì§€ëŠ¥ì "],
          "description": "1ì¥ ë§ˆì§€ë§‰ì— ë“±ì¥í•  ì˜ˆì •ì¸ ì¤‘ê°„ ë³´ìŠ¤."
        }
        ```
        
    - **Response:**
        
        ```json
        {
          "success": true,
          "message": "ìºë¦­í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
          "data": {
            "id": "char-uuid-003",
            "name": "ìƒˆë¡œìš´ ë¹ŒëŸ°",
            "job": "ë§ˆì™•êµ° ê°„ë¶€",
            "personality": ["ì”í˜¹í•¨", "ì§€ëŠ¥ì "],
            "description": "1ì¥ ë§ˆì§€ë§‰ì— ë“±ì¥í•  ì˜ˆì •ì¸ ì¤‘ê°„ ë³´ìŠ¤.",
            "created_at": "2026-02-24T14:10:00Z",
            "updated_at": "2026-02-24T14:10:00Z"
          }
        }
        ```
        

- **API ì£¼ì†Œ:** `PATCH /api/characters/{characterId}`
    
    ì‚¬ìš©ìê°€ ìºë¦­í„°ì˜ ì§ì—…ì„ ë°”ê¾¸ê±°ë‚˜, ì„¤ëª…ê¸€ì„ ê³ ì¹  ë•Œ ì‚¬ìš©í•˜ëŠ” API
    
    - ğŸ’¡ `PUT`ì´ ì•„ë‹ˆë¼ `PATCH` ì‚¬ìš© â†’ ì „ì²´ë¥¼ ë®ì–´ì“°ëŠ” ê²Œ ì•„ë‹ˆë¼ **ë°”ë€ ë¶€ë¶„ë§Œ** ìˆ˜ì •
    - **Request:**
        
        ```json
        {
          "job": "ëŒ€ë§ˆë²•ì‚¬",
        }
        ```
        
        - ì˜ˆë¥¼ ë“¤ì–´ ì§ì—…ì„ 'ëŒ€ë§ˆë²•ì‚¬'ë¡œ ìŠ¹ì§„ â†’ ë°”ë€ ê²ƒë§Œ ë³´ëƒ„
    - **Response :**
        
        ```json
        {
          "success": true,
          "message": "ìºë¦­í„° ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.",
          "data": {
            "id": "char-uuid-002",
            "name": "ì—°ìš°",
            "job": "ëŒ€ë§ˆë²•ì‚¬",
            "personality": ["ëƒ‰ì² í•¨", "ì™„ë²½ì£¼ì˜"],
            "description": "ê¸¸ì´ˆì˜ ë¼ì´ë²Œì´ì ì¡°ë ¥ì.",
            "updated_at": "2026-02-24T14:15:00Z"
          }
        }
        ```
        
        > ğŸ’¡ 
        ìš”ì²­í•  ë•ŒëŠ” ë°”ë€ ê²ƒ(`job`)ë§Œ ë³´ëƒˆì§€ë§Œ, 
        ë°±ì—”ë“œëŠ” ì¹œì ˆí•˜ê²Œ "ì—…ë°ì´íŠ¸ëœ ì „ì²´ ìºë¦­í„° ì •ë³´"ë¥¼ ì‘ë‹µìœ¼ë¡œ ëŒë ¤ì¤€ë‹¤. 
        ê·¸ë˜ì•¼ í”„ë¡ íŠ¸ì—”ë“œê°€ í™”ë©´ì„ ê¹œë¹¡ì„ ì—†ì´ ìƒˆë¡œê³ ì¹¨ ëœ ë°ì´í„°ë¡œ ì‹¹ ê°ˆì•„ ë¼ìš¸ ìˆ˜ ìˆìŒ
        > 

- **API ì£¼ì†Œ:** `DELETE /api/characters/{characterId}`
    - **Request: X**
    - **Response :** `{"success": true}`

### 3. ì„¸ê³„ê´€

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/worldviews`
    
    ì„¸ê³„ê´€ íƒ­ì— ë“¤ì–´ê°”ì„ ë•Œ, í™”ë©´ì— ê·¸ë ¤ì§ˆ ì—¬ëŸ¬ ê°œì˜ ì¹´ë“œ(ìš©ì–´, ê´€ê³„ì„±, ì»¤ìŠ¤í…€ ì„¤ì • ë“±)ë¥¼ ê°€ì ¸ì˜¤ëŠ” API
    
    - **Response:**
        
        ```json
        {
          "success": true,
          "data": [
            {
              "id": "wv-uuid-001",
              "name": "ê¸°ë³¸ ìš©ì–´ì§‘",
              "description": "ì†Œì„¤ ë‚´ ì£¼ìš” ëª…ì¹­ ì •ë¦¬",
              "type": "TERM", 
              "updated_at": "2026-02-24T14:00:00Z"
            },
            {
              "id": "wv-uuid-002",
              "name": "ì¸ë¬¼ ê´€ê³„ë„",
              "description": "ì£¼ìš” ì„¸ë ¥ ë° ì¸ë¬¼ ê´€ê³„",
              "type": "RELATION",
              "updated_at": "2026-02-24T14:30:00Z"
            },
            {
              "id": "wv-uuid-003",
              "name": "ë§ˆë²• ì²´ê³„",
              "description": "ì†ì„±ë³„ ë§ˆë²• ê·œì¹™",
              "type": "CUSTOM",
              "is_synced": true,
              "updated_at": "2026-02-24T15:00:00Z"
            }
          ]
        }
        ```
        

- **API ì£¼ì†Œ:** `POST /api/projects/{projectId}/worldviews`
    
    ì‚¬ìš©ìê°€ [+ ìƒˆë¡œìš´ ì„¤ì • ì¶”ê°€í•˜ê¸°] ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ 'ì—­ì‚¬'ë‚˜ 'ì¢…êµ' ê°™ì€ ìƒˆë¡œìš´ ì¹´ë“œë¥¼ ë§Œë“¤ ë•Œ ì˜ëŠ” API
    
    - **Request:**
    
    ```json
    {
      "name": "ì œêµ­ ì—­ì‚¬",
      "description": "ê±´êµ­ë¶€í„° í˜„ì¬ê¹Œì§€ì˜ ì—°í‘œ",
      "type": "CUSTOM" 
    }
    ```
    
    > ğŸ’¡ 
    ì‚¬ìš©ìê°€ ììœ ë¡­ê²Œ ì¶”ê°€í•˜ëŠ” ì¹´í…Œê³ ë¦¬ëŠ” ìœ ì—°í•œ ë³¸ë¬¸ ì‘ì„±ì´ ê°€ëŠ¥í•˜ë„ë¡ ê¸°ë³¸ì ìœ¼ë¡œ `CUSTOM` íƒ€ì…ìœ¼ë¡œ ì§€ì •í•˜ì—¬ ë„˜ê²¨ì¤€ë‹¤.
    > 
    - **Response:**
    
    ```json
    {
      "success": true,
      "data": {
        "id": "wv-uuid-004",
        "name": "ì œêµ­ ì—­ì‚¬",
        "description": "ê±´êµ­ë¶€í„° í˜„ì¬ê¹Œì§€ì˜ ì—°í‘œ",
        "type": "CUSTOM",
        "created_at": "2026-02-24T15:30:00Z",
        "updated_at": "2026-02-24T15:30:00Z"
      }
    }
    ```
    

### 3.1 ì„¸ê³„ê´€- ìš©ì–´

- **API ì£¼ì†Œ:** `POST /api/worldviews/{worldviewId}/terms`
    - **Request:**
        
        ```json
        {
          "term": "ë§ˆë‚˜ì„",
          "meaning": "ë§ˆë ¥ì´ ì‘ì§‘ëœ ê´‘ì„. ì œêµ­ì˜ ì£¼ìš” ë™ë ¥ì›ì´ë‹¤."
        }
        ```
        

### 3.2 ì„¸ê³„ê´€- ê´€ê³„ì„±

- **API ì£¼ì†Œ:** `POST /api/worldviews/{worldviewId}/relationships`
    - **Request:**
        
        ```json
        {
          "base_character_id": "char-uuid-001",
          "target_character_id": "char-uuid-002",
          "relation_type": "ì• ì¦ì˜ ë¼ì´ë²Œ",  // ì‚¬ìš©ìê°€ ììœ ë¡­ê²Œ íƒ€ì´í•‘í•œ í…ìŠ¤íŠ¸
          "color": "#FF5733"              // âœ… ERD ì»¬ëŸ¼ëª…: color (line_color ì•„ë‹˜)
        }
        ```
        
    

### 3.3 ì„¸ê³„ê´€- ì»¤ìŠ¤í…€ ì„¤ì • (ê°œë°œ ì˜ˆì •)

- **API ì£¼ì†Œ:** `POST /api/worldviews/{worldviewId}/entries`
    - **Request:**
    
    ```json
    {
      "title": "ì œ1ì°¨ ë§ˆë²• ì „ìŸ",
      "content": [
        { "type": "paragraph", "text": "ì œêµ­ë ¥ 150ë…„, ë§ˆë²•ì‚¬ë“¤ì˜ ë°˜ë€ìœ¼ë¡œ ì‹œì‘ëœ ì „ìŸ..." }
      ]
    }
    ```
    

### 4. í”Œë¡¯

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/plots`
    
    ê¸°íšì‹¤ì˜ 'í”Œë¡¯' íƒ­ì„ ì—´ì—ˆì„ ë•Œ, ì´ì•¼ê¸°ì˜ íë¦„(1ë²ˆ í”Œë¡¯, 2ë²ˆ í”Œë¡¯...)ì„ ìˆœì„œëŒ€ë¡œ ì­‰ ë„ì›Œì£¼ê³ , ê° í”Œë¡¯ì— **ì–´ë–¤ ì¸ë¬¼ì´ ë“±ì¥í•˜ëŠ”ì§€, ëª‡ ì¥(íšŒì°¨)ì—ì„œ ë‹¤ë¤„ì§€ëŠ”ì§€** í•œëˆˆì— ë³´ì—¬ì£¼ëŠ” API
    
    - **Response:**
        
        ```json
        {
          "success": true,
          "data": [
            {
              "id": "plot-uuid-001",
              "plot_number": 1,
              "title": "ë°œë‹¨: ìš°ì—°í•œ ë§Œë‚¨",
              "description": "ê¸¸ì´ˆê°€ ìˆ²ì—ì„œ ìƒì²˜ ì…ì€ ì—°ìš°ë¥¼ ë°œê²¬í•˜ê³  êµ¬í•´ì¤€ë‹¤.",
              "linked_characters": [
                { "id": "char-uuid-001", "name": "ë§ˆê¸¸ì´ˆ" },
                { "id": "char-uuid-002", "name": "ì—°ìš°" }
              ],
              "linked_episodes": [
                { "id": "epi-uuid-001", "title": "1ì¥. ë¹„ ë‚´ë¦¬ëŠ” ìˆ²" }
              ],
              "updated_at": "2026-02-24T14:00:00Z"
            },
            {
              "id": "plot-uuid-002",
              "plot_number": 2,
              "title": "ì „ê°œ: ìˆ¨ê²¨ì§„ ë§ˆë ¥ì˜ ê°ì„±",
              "description": "ì—°ìš°ë¥¼ ë…¸ë¦¬ëŠ” ì•”ì‚´ìë“¤ì˜ ìŠµê²©. ìœ„ê¸° ì†ì—ì„œ ê¸¸ì´ˆì˜ í˜ì´ í­ë°œí•œë‹¤.",
              "linked_characters": [
                { "id": "char-uuid-001", "name": "ë§ˆê¸¸ì´ˆ" },
                { "id": "char-uuid-002", "name": "ì—°ìš°" },
                { "id": "char-uuid-003", "name": "ìƒˆë¡œìš´ ë¹ŒëŸ°" }
              ],
              "linked_episodes": [
                { "id": "epi-uuid-002", "title": "2ì¥. ê²€ì€ ê·¸ë¦¼ì" },
                { "id": "epi-uuid-003", "title": "3ì¥. í­ë°œí•˜ëŠ” ë§ˆë ¥" }
              ],
              "updated_at": "2026-02-24T14:30:00Z"
            }
          ]
        }
        ```
        

- **API ì£¼ì†Œ:** `POST /api/projects/{projectId}/plots`
    
    ì‚¬ìš©ìê°€ [+ í”Œë¡¯ ì¶”ê°€] ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ìƒˆë¡œìš´ ì‚¬ê±´ì„ ê¸°íší•  ë•Œ ì˜ëŠ” API
    
    - **Request:**
        
        ```json
        {
          "plot_number": 3,
          "title": "ìœ„ê¸°: ì—‡ê°ˆë¦¬ëŠ” ì˜¤í•´",
          "description": "ê¸¸ì´ˆì˜ í˜ì„ ë‘ë ¤ì›Œí•œ ì—°ìš°ê°€ ë– ë‚˜ë²„ë¦°ë‹¤.",
          "character_ids": ["char-uuid-001", "char-uuid-002"],
          "episode_ids": ["epi-uuid-004"]
        }
        ```
        
    - **Response:**
        
        ```json
        {
          "success": true,
          "message": "ìƒˆë¡œìš´ í”Œë¡¯ì´ íƒ€ì„ë¼ì¸ì— ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.",
          "data": {
            "id": "plot-uuid-003",
            "plot_number": 3,
            "title": "ìœ„ê¸°: ì—‡ê°ˆë¦¬ëŠ” ì˜¤í•´",
            // ... ì´í•˜ ìƒëµ ...
          }
        }
        ```
        

- **API ì£¼ì†Œ:** `PATCH /api/plots/{plotId}`
    
    í”Œë¡¯ì˜ ì œëª©ì„ ë°”ê¾¸ê±°ë‚˜ ì—°ê²°ëœ íšŒì°¨ë¥¼ ë³€ê²½í•  ë•Œ, ë˜ëŠ” **ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ í”Œë¡¯ì˜ ìˆœì„œ(plot_number)ë¥¼ ë’¤ë°”ê¿€ ë•Œ** ì‚¬ìš©í•˜ëŠ” API
    
    - **Request:**
        - ë§Œì•½ ì—°ê²°í•  ì—í”¼ì†Œë“œë¥¼ 4ì¥ì—ì„œ 4, 5ì¥ìœ¼ë¡œ ëŠ˜ë¦¬ê³  ì‹¶ë‹¤ë©´
        
        ```json
        {
          "episode_ids": ["epi-uuid-004", "epi-uuid-005"]
        }
        ```
        
        - ë§Œì•½ ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ 3ë²ˆì´ì—ˆë˜ ìˆœì„œë¥¼ 1ë²ˆìœ¼ë¡œ ì˜¬ë¦°ë‹¤ë©´
        
        ```json
        {
          "plot_number": 1
        }
        ```
        

---

## ì§‘í•„ì‹¤

### 5. **ì§‘í•„(íšŒì°¨)**

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/episodes`
    
    ì§‘í•„ì‹¤ ì™¼ìª½ íŒ¨ë„(ëª©ì°¨)ì— 1ì¥, 2ì¥, 3ì¥ ë¦¬ìŠ¤íŠ¸ë¥¼ ì­‰ ë„ì›Œì¤„ ë•Œ ì‚¬ìš©í•˜ëŠ” APIì…ë‹ˆë‹¤.
    
    - **Response:**
        
        ```json
        {
          "success": true,
          "data": [
            {
              "id": "epi-uuid-001",
              "order_index": 1,
              "title": "1ì¥. ë¹„ ë‚´ë¦¬ëŠ” ìˆ²",
              "status": "DONE",
              "char_count_with_space": 4500,
              "updated_at": "2026-02-23T10:00:00Z"
            },
            {
              "id": "epi-uuid-002",
              "order_index": 2,
              "title": "2ì¥. ê²€ì€ ê·¸ë¦¼ì",
              "status": "DOING",
              "char_count_with_space": 1200,
              "updated_at": "2026-02-24T14:30:00Z"
            }
          ]
        }
        ```
        
        > ğŸ’¡ ì „ì²´ ë³¸ë¬¸(`content`)ì€ ëª©ì°¨ë¥¼ ë¶€ë¥¼ ë•ŒëŠ” ë¹¼ê³  ì¤€ë‹¤. 
        ëŒ€ì‹  ìƒíƒœ(`status`)ì™€ ê¸€ì ìˆ˜(`char_count_with_space`)ë¥¼ ì¤˜ì„œ, 
        í”„ë¡ íŠ¸ì—”ë“œê°€ "ì™„ê²°ëœ íšŒì°¨(ì´ˆë¡ìƒ‰ ì²´í¬)", "ì§„í–‰ ì¤‘(50% ê²Œì´ì§€)" ê°™ì€ UIë¥¼ ê·¸ë¦´ ìˆ˜ ìˆê²Œ í•¨
        > 

- **API ì£¼ì†Œ:** `POST /api/projects/{projectId}/episodes`
    
    ì‚¬ìš©ìê°€ [+ ìƒˆ íšŒì°¨ ì¶”ê°€] ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ì˜ëŠ” APIì…ë‹ˆë‹¤.
    
    - **Request:**
        
        ```json
        {
          "title": "3ì¥. í­ë°œí•˜ëŠ” ë§ˆë ¥",
          "order_index": 3
        }
        ```
        
    - **Response:** (ìƒì„±ëœ íšŒì°¨ì˜ IDì™€ ê¸°ë³¸ ì •ë³´ë¥¼ ëŒë ¤ì¤ë‹ˆë‹¤. `content`ëŠ” ì•„ì§ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.)

- **API ì£¼ì†Œ:** `GET /api/episodes/{episodeId}`
    
    ì‘ê°€ê°€ '2ì¥. ê²€ì€ ê·¸ë¦¼ì'ë¥¼ í´ë¦­í•´ì„œ ì—ë””í„° í™”ë©´ì„ ì—´ ë•Œ, ë°±ì—”ë“œì—ì„œ ì €ì¥ëœ ê¸€ì„ ê°€ì ¸ì˜¤ëŠ” API
    
    - **Response:**
        
        ```json
        {
          "success": true,
          "data": {
            "id": "epi-uuid-002",
            "title": "2ì¥. ê²€ì€ ê·¸ë¦¼ì",
            "status": "DOING",
            "char_count_with_space": 1200,
            "char_count_no_space": 900,
            "content": [
              {
                "block_id": "blk-001",
                "type": "paragraph",
                "text": "ì—°ìš°ì˜ ë“± ë’¤ë¡œ ê±°ëŒ€í•œ ê·¸ë¦¼ìê°€ ë“œë¦¬ì› ë‹¤."
              },
              {
                "block_id": "blk-002",
                "type": "paragraph",
                "text": "\"ëˆ„êµ¬ëƒ!\" ì—°ìš°ê°€ ì§€íŒ¡ì´ë¥¼ ê³ ì³ ì¥ë©° ì™¸ì³¤ë‹¤."
              }
            ]
          }
        }
        ```
        

- **API ì£¼ì†Œ:** `PATCH /api/episodes/{episodeId}`
    
    â­ï¸ **ì—ë””í„° ë³¸ë¬¸ ìë™ ì €ì¥ API**: ì´ ë°ì´í„°ê°€ ê·¸ëŒ€ë¡œ ìª¼ê°œì ¸ì„œ AI `episode_embeddings` í…Œì´ë¸”ë¡œ ë“¤ì–´ê°
    
    - **Request:**
        
        ```json
        {
          "content": [
            {
              "block_id": "blk-001",
              "type": "paragraph",
              "text": "ì—°ìš°ì˜ ë“± ë’¤ë¡œ ê±°ëŒ€í•œ ê·¸ë¦¼ìê°€ ë“œë¦¬ì› ë‹¤."
            },
            {
              "block_id": "blk-002",
              "type": "paragraph",
              "text": "\"ëˆ„êµ¬ëƒ!\" ì—°ìš°ê°€ ì§€íŒ¡ì´ë¥¼ ê³ ì³ ì¥ë©° ì™¸ì³¤ë‹¤."
            },
            {
              "block_id": "blk-003",
              "type": "paragraph",
              "text": "ê·¸ë¦¼ì ì†ì—ì„œ ë¶‰ì€ ëˆˆë™ìê°€ ë²ˆì©ì˜€ë‹¤. (ë°©ê¸ˆ ì¶”ê°€ëœ ë¬¸ì¥)"
            }
          ],
          "char_count_with_space": 1255,
          "char_count_no_space": 940,
          "status": "DOING"
        }
        ```
        
        > ğŸ’¡ 
        í…ìŠ¤íŠ¸ë¥¼ í†µì§¸ë¡œ ë¬¶ì§€ ì•Šê³  `block_id`ë¥¼ ë‹¬ì•„ì„œ ë°°ì—´ë¡œ ë³´ë‚¸ë‹¤. 
        ì´ë ‡ê²Œ í•˜ë©´ ë°±ì—”ë“œ ì„œë²„ê°€ ì´ ë°ì´í„°ë¥¼ ë°›ì•˜ì„ ë•Œ,
        ìˆë˜ ë¸”ë¡ ë„˜ë²„ëŠ” íŒ¨ìŠ¤í•˜ê³ , ìƒˆë¡œ ì¶”ê°€ëœ ê²ƒë§Œ ****Vector DBì— ì„ë² ë”©í•´ì„œ ì €ì¥í•œë‹¤
        > 
    - **Response:**
        
        ```json
        {
          "success": true,
          "message": "ìë™ ì €ì¥ ì™„ë£Œ",
          "updated_at": "2026-02-24T14:52:00Z"
        }
        ```
        
        í”„ë¡ íŠ¸ì—”ë“œëŠ” ì´ `updated_at`ì„ ë°›ì•„ì„œ ì—ë””í„° ìš°ì¸¡ ìƒë‹¨ì— "ë§ˆì§€ë§‰ ì €ì¥: 14:52" ë¼ê³  ë„ì›Œì¤Œ
        

### 6. Creative zone

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/worldviews?is_synced=true`
í¬ë¦¬ì—ì´í‹°ë¸Œ ì¡´ í•˜ë‹¨ì— ìºë¦­í„°/ì„¸ê³„ê´€/AI ë“± ë™ê¸°í™”ëœ ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” api
    - **Response:** (ì´ APIë¥¼ í†µí•´ 'ì£¼ìš” ìš©ì–´', 'ê´€ê³„ì„±', 'ë§ˆë²• ì²´ê³„' íƒ­ì˜ ê»ë°ê¸°ë¥¼ í™”ë©´ì— ê·¸ë¦½ë‹ˆë‹¤.)

### 6.1 ìºë¦­í„°

- **API ì£¼ì†Œ:** `GET /api/projects/{projectId}/characters`
    - **Response:** (ê¸°ì¡´ ìºë¦­í„° ëª©ë¡ ì‘ë‹µê³¼ ë™ì¼í•˜ë¯€ë¡œ ìƒëµ)

### 6.2 ì„¸ê³„ê´€

- **API ì£¼ì†Œ:** `GET /api/worldviews/{worldviewId}/terms`
    
    ìš©ì–´ ë¦¬ìŠ¤íŠ¸ ë¶ˆëŸ¬ì˜¤ê¸°
    
    - **Response:**
    
    ```json
    {
      "success": true,
      "data": [
        {
          "id": "term-001",
          "worldview_id": "wv-uuid-001",
          "term": "ë°¥ ì¤˜",
          "meaning": "ë°¥ì„ ë‹¬ë¼ëŠ” ëœ»ì´ì—ìš”."
          // âŒ synonyms í•„ë“œëŠ” ERD(worldview_terms)ì— ì—†ìœ¼ë¯€ë¡œ ì œê±°
        },
        {
          "id": "term-002",
          "worldview_id": "wv-uuid-001",
          "term": "ë§˜ë§ˆ ì¤˜",
          "meaning": "ë°¥ì„ ë‹¬ë¼ëŠ” ëœ»ì´ì—ìš”."
        }
      ]
    }
    ```
    

- **API ì£¼ì†Œ:**  `GET /api/worldviews/{worldviewId}/relationships?character_id={char-uuid-001}`
    
    â­ï¸ ì„¸ê³„ê´€ - ì¸ë¬¼ ê´€ê³„ì„± ë¶ˆëŸ¬ì˜¤ê¸°
    
    - **Request:**
        - `character_id`: ê²€ìƒ‰ì°½ì—ì„œ ì„ íƒí•œ ì¤‘ì‹¬ ì¸ë¬¼ (ì˜ˆ: ë§ˆê¸¸ì´ˆ ID)
    - **Response:**
        
        ```json
        {
          "success": true,
          "data": {
            "base_character": {
              "id": "char-001",
              "name": "ë§ˆê¸¸ì´ˆ",
              "job": "ì£¼ì¸ê³µ",
              "image_url": "https://.../magilcho.jpg"
            },
            "connections": [
              {
                "id": "rel-001",
                "target_character_id": "char-002",
                "target_character_name": "ê°•ì¶˜ì‹",
                "image_url": "https://.../kang.jpg",
                "relation_type": "ë¼ì´ë²Œ",
                "color": "#E0F7FA" // âœ… ERD ì»¬ëŸ¼ëª…: color (line_color ì•„ë‹˜)
              },
              {
                "id": "rel-002",
                "target_character_id": "char-003",
                "target_character_name": "ì†¡ì€ì±„",
                "image_url": "https://.../song.jpg",
                "relation_type": "íˆë¡œì¸",
                "color": "#FCE4EC" // âœ… ERD ì»¬ëŸ¼ëª…: color
              }
            ]
          }
        }
        ```
        

### **6.3 AI ë„ìš°ë¯¸**

- **API ì£¼ì†Œ:** `POST /api/episodes/{episodeId}/ai/autocomplete`
    
    AI ì—ì´ì „íŠ¸ - ì´ì–´ì“°ê¸° API
    
    - **Request :**
    
    ```json
    {
      "cursor_block_id": "blk-003",
    }
    ```
    
    > ğŸ’¡ **:** ì „ì²´ ë³¸ë¬¸ì„ ë‹¤ ë³´ë‚¼ í•„ìš” ì—†ì´, ë¸”ë¡ ID(`cursor_block_id`)ë§Œ ë³´ë‚¸ë‹¤
    ë°±ì—”ë“œì—ì„œ ê·¸ ë¸”ë¡ ì•ë’¤ì˜ ë¬¸ë§¥ì„ DBì—ì„œ ê°€ì ¸ì™€ AIì—ê²Œ ì „ë‹¬
    í”„ë¡ íŠ¸ì—”ë“œëŠ” ì•„ì£¼ ê°€ë³ê²Œ ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    > 
    - **Response :**
    
    ```json
    {
      "success": true,
      "data": {
        "generated_blocks": [
          {
            "type": "paragraph",
            "text": "ê·¸ ìˆœê°„, ë¶‰ì€ ëˆˆë™ìê°€ í—ˆê³µì„ ê°ˆëë‹¤."
          },
          {
            "type": "paragraph",
            "text": "í•˜ì§€ë§Œ ì—°ìš°ì˜ ê²€ì´ ë” ë¹¨ëë‹¤. ì§€íŒ¡ì´ë¥¼ ë‚´ë˜ì§„ ì—°ìš°ëŠ” í—ˆë¦¬ì¶¤ì˜ ë‹¨ê²€ì„ ë½‘ì•„ ë“¤ê³ , ì§ìŠ¹ì²˜ëŸ¼ ë„ì•½í•´ ê·¸ë¦¼ìì˜ ì‹¬ì¥ë¶€ë¥¼ í–¥í•´ ë§ì„¤ì„ ì—†ì´ ê²€ê¸°ë¥¼ ê½‚ì•„ ë„£ì—ˆë‹¤."
          }
        ]
      }
    }
    ```
    
    > ğŸ’¡ AIê°€ ìƒì„±í•œ ë¬¸ì¥ë„ í†µê¸€ìê°€ ì•„ë‹ˆë¼ **ì—ë””í„°ì— ë°”ë¡œ ë¼ì›Œ ë„£ì„ ìˆ˜ ìˆëŠ” ë¸”ë¡(`[]`) í˜•íƒœ**ë¡œ ë¦¬í„´
    ì‘ê°€ëŠ” ì´ ì œì•ˆì„ ë³´ê³  [ì ìš©í•˜ê¸°] ë²„íŠ¼ë§Œ ëˆ„ë¥´ë©´ ì—ë””í„° ë³¸ë¬¸ì— ìì—°ìŠ¤ëŸ½ê²Œ í•©ì³ì§
    > 

- **API ì£¼ì†Œ:** `POST /api/projects/{projectId}/ai/ask` 
AI ì—ì´ì „íŠ¸ - ì„¤ì • ê²€ìƒ‰ API
    - **Request :**
    
    ```json
    {
      "question": "ì£¼ì¸ê³µì´ ì „ì— ì¼ë˜ í™”ì—¼ ë§ˆë²• ì´ë¦„ì´ ë­ì˜€ì§€?",
      "current_episode_id": "epi-uuid-002"
    }
    ```
    
    - **Response :**
    
    ```json
    {
      "success": true,
      "data": {
        "answer": "1ì¥ 'ë¹„ ë‚´ë¦¬ëŠ” ìˆ²'ì—ì„œ ì£¼ì¸ê³µì´ ì‚¬ìš©í–ˆë˜ í™”ì—¼ ë§ˆë²•ì˜ ì´ë¦„ì€ **'í—¬íŒŒì´ì–´(Hellfire)'**ì…ë‹ˆë‹¤. ë‹¹ì‹œ ê³ ë¸”ë¦° ë¬´ë¦¬ë¥¼ í‡´ì¹˜í•  ë•Œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.",
        "references": [
          {
            "episode_id": "epi-uuid-001",
            "title": "1ì¥. ë¹„ ë‚´ë¦¬ëŠ” ìˆ²",
            "matched_text": "...ì£¼ì¸ê³µì€ ì…ìˆ ì„ ê¹¨ë¬¼ë©° ê¸ˆì§€ëœ ë§ˆë²•, 'í—¬íŒŒì´ì–´'ë¥¼ ì˜ì°½í–ˆë‹¤..."
          }
        ]
      }
    }
    ```
    
    > ğŸ’¡ í”„ë¡ íŠ¸ì—”ë“œëŠ” ì´ `references` ë°ì´í„°ë¥¼ ë°›ì•„ì„œ ì±„íŒ…ì°½ ë‹µë³€ ì•„ë˜ì— 
    "ğŸ“– ì°¸ê³ í•œ íšŒì°¨: 1ì¥. ë¹„ ë‚´ë¦¬ëŠ” ìˆ²" ì´ë¼ëŠ” ì˜ˆìœ ì¶œì²˜ ë§í¬ ë²„íŠ¼ì„ ë§Œë“¤ì–´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    > 

- **API ì£¼ì†Œ:** `POST /api/episodes/{episodeId}/ai/synonyms`
    
    AI ì—ì´ì „íŠ¸ - ë‹¨ì–´ ì°¾ê¸° (ëŒ€ì²´ì–´ ì¶”ì²œ) API
    
    - Request :
        
        ```json
        {
          "selected_word": "ì•¼ë¥´",
          "block_id": "blk-010"
        }
        ```
        
    - Response **:**
        
        ```json
        {
          "success": true,
          "data": {
            "recommendations": [
              {
                "word": "ì ë§‰í•˜ë‹¤",
                "description": "\"ì•„ë¬´ëŸ° ì†Œë¦¬ë„ ì—†ì´ ê³ ìš”í•˜ê³  ì“¸ì“¸í•˜ë‹¤.\""
              },
              {
                "word": "ê³µí—ˆí•˜ë‹¤",
                "description": "\"ì†ì´ í…… ë¹„ì–´ ì•„ë¬´ê²ƒë„ ì—†ë‹¤.\""
              }
            ]
          }
        }
        ```
        

- API ì£¼ì†Œ: `POST /api/episodes/{episodeId}/ai/transform-style`
AI ì—ì´ì „íŠ¸ - ë¬¸ì²´ ë³€í™˜ API
    - Request :
        
        ```json
        {
          "block_id": "blk-010"
          "style_tag": "ë™ì–‘í’"
        }
        ```
        
    - Response :
        ```json
        {
          "success": true,
          "data": {
            "transformed_blocks": [
              {
                "type": "paragraph",
                "text": "\"ê·¸ê±´ ì•„ë§ˆë„ ë‚´ê°€ ìŠê³  ì‹¶ì—ˆë˜ ê³¼ê±°ì˜ ì¡°ê°ì´ì—ˆì„ ê²ƒì´ë‹¤. ë¹—ì¤„ê¸°ëŠ” ì ì  ê±°ì„¸ì¡Œê³ ...\""
              }
            ]
  }
        }
        ```