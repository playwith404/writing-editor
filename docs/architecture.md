# π—οΈ Cowrite κΈ°μ  μ•„ν‚¤ν…μ² μ„¤κ³„

> μΆ…ν•© μ›Ήμ†μ„¤ μ°½μ‘ ν”λ«νΌμ μ‹μ¤ν… μ•„ν‚¤ν…μ²μ™€ κΈ°μ  μ¤νƒμ„ μ •μν•©λ‹λ‹¤.

---

## 1. μ‹μ¤ν… κ°μ”

### 1.1 μ•„ν‚¤ν…μ² λ‹¤μ΄μ–΄κ·Έλ¨

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                         ν΄λΌμ΄μ–ΈνΈ λ μ΄μ–΄                         β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚   Web App   β”‚  Desktop    β”‚   Mobile    β”‚     VS Code Ext.        β”‚
β”‚  (Next.js)  β”‚  (Electron) β”‚(React Native)β”‚     (Optional)         β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚             β”‚             β”‚                  β”‚
       β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                            β”‚ HTTPS/WSS
                            β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                      Nginx (λ¦¬λ²„μ¤ ν”„λ΅μ‹)                        β”‚
β”‚              Rate Limiting, SSL Termination                      β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                               β”‚
       β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β–Ό                       β–Ό                       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚ Core API     β”‚     β”‚ AI Service   β”‚     β”‚   Sync Service       β”‚
β”‚  :8100       β”‚     β”‚  :8101       β”‚     β”‚   :8102              β”‚
β”‚ (Spring Boot)β”‚     β”‚  (FastAPI)   β”‚     β”‚ (Spring WebSocket)   β”‚
β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
       β”‚                    β”‚                        β”‚
       β”‚    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”       β”‚
       β–Ό    β–Ό               β–Ό                β–Ό       β–Ό
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚                       λ°μ΄ν„° λ μ΄μ–΄                              β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ PostgreSQL (μ§μ ‘μ„¤μΉ)β”‚     Redis (Docker)                        β”‚
β”‚     :5432           β”‚       :6379                               β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”΄β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 1.2 κΈ°μ  μ¤νƒ μ”μ•½

| λ μ΄μ–΄ | κΈ°μ  |
|--------|------|
| **Frontend** | Next.js 14, TypeScript, TailwindCSS |
| **Desktop** | Electron + React |
| **Mobile** | React Native / Expo |
| **Backend** | Java (Spring Boot) + Python (FastAPI) |
| **ORM** | Spring Data JPA (Hibernate) |
| **Database** | PostgreSQL 16 (μ§μ ‘ μ„¤μΉ) |
| **Cache** | Redis 7 (Docker) |
| **AI/ML** | OpenAI API, Anthropic Claude, Whisper |
| **Infra** | Docker Compose |

---

## 2. μ„λΉ„μ¤ κµ¬μ„±

### 2.1 μ„λΉ„μ¤ λ©λ΅

| μ„λΉ„μ¤ | μ—­ν•  | κΈ°μ  | ν¬νΈ |
|--------|------|------|------|
| **frontend** | μ›Ή ν΄λΌμ΄μ–ΈνΈ | Next.js | **3100** |
| **core-api** | ν•µμ‹¬ λΉ„μ¦λ‹μ¤ λ΅μ§ | Spring Boot | **8100** |
| **ai-service** | LLM μ—°λ™, AI κΈ°λ¥ | FastAPI | **8101** |
| **sync-service** | μ‹¤μ‹κ°„ ν‘μ—…, WebSocket | Spring WebSocket | **8102** |
| **redis** | μΊμ‹, μ„Έμ…, ν | Redis | 6379 |
| **nginx** | λ¦¬λ²„μ¤ ν”„λ΅μ‹ | Nginx | 80, 443 |
| **postgresql** | λ©”μΈ DB | PostgreSQL | 5432 (μ§μ ‘ μ„¤μΉ) |

### 2.2 μ„λΉ„μ¤ κ°„ ν†µμ‹ 

```mermaid
flowchart LR
    subgraph External
        Client[ν΄λΌμ΄μ–ΈνΈ]
        OpenAI[OpenAI API]
        Claude[Claude API]
    end
    
    subgraph Gateway
        Nginx[Nginx]
    end
    
    subgraph Services
        Core[Core :8100]
        AI[AI :8101]
        Sync[Sync :8102]
    end
    
    Client --> Nginx
    Nginx --> Core
    Nginx --> AI
    Nginx --> Sync
    AI --> OpenAI
    AI --> Claude
    Core <--> Redis[(Redis)]
    Core <--> PG[(PostgreSQL)]
```

---

## 3. λ³΄μ• μ•„ν‚¤ν…μ²

### 3.1 μΈμ¦ ν”λ΅μ°

```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  Client  β”‚β”€β”€β”€β”€β–Ίβ”‚  Nginx   β”‚β”€β”€β”€β”€β–Ίβ”‚  Core    β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”     β””β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”
                                       β”‚
                      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                      β–Ό
              β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
              β”‚ JWT λ°κΈ‰      β”‚
              β”‚ Access: 15λ¶„  β”‚
              β”‚ Refresh: 7μΌ  β”‚
              β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 3.2 λ³΄μ• λ μ΄μ–΄

| λ μ΄μ–΄ | κµ¬ν„ |
|--------|------|
| **μ „μ†΅** | TLS 1.3, HTTPS only |
| **μΈμ¦** | JWT + Refresh Token, OAuth 2.0 |
| **μΈκ°€** | RBAC (Role-Based Access Control) |
| **λ°μ΄ν„°** | AES-256 μ•”νΈν™” (at rest) |
| **API** | Rate Limiting, CORS |

---

## 4. ν™•μ¥μ„± μ„¤κ³„

### 4.1 μν‰ ν™•μ¥ (ν–¥ν›„)

```
                    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
                    β”‚ Load Balancerβ”‚
                    β””β”€β”€β”€β”€β”€β”€β”¬β”€β”€β”€β”€β”€β”€β”
           β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”Όβ”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
           β–Ό               β–Ό               β–Ό
      β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
      β”‚ Core #1 β”‚    β”‚ Core #2 β”‚    β”‚ Core #3 β”‚
      β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”    β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### 4.2 μ„±λ¥ λ©ν‘

| μ§€ν‘ | λ©ν‘ |
|------|------|
| API μ‘λ‹µ | P95 < 200ms |
| λ™μ‹ μ ‘μ† | 1,000+ (μ΄κΈ°) |
| κ°€μ©μ„± | 99.9% |

---

## 5. λ°μ΄ν„° νλ¦„

### 5.1 μ§‘ν•„ μ €μ¥ ν”λ΅μ°

```
1. μ‚¬μ©μ νƒ€μ΄ν•‘
      β–Ό
2. λ””λ°”μ΄μ¤ (500ms)
      β–Ό
3. λ΅μ»¬ μ €μ¥ (IndexedDB)
      β–Ό
4. μ„λ²„ λ™κΈ°ν™” (HTTP/WebSocket)
      β–Ό
5. PostgreSQL μ €μ¥
      β–Ό
6. λ²„μ „ νμ¤ν† λ¦¬ μƒμ„±
```

### 5.2 AI κΈ°λ¥ ν”λ΅μ°

```
1. ν΄λΌμ΄μ–ΈνΈ μ”μ²­
      β–Ό
2. core-api (μΈμ¦, μΏΌν„° μ²΄ν¬)
      β–Ό
3. ai-service
      β–Ό
4. μ»¨ν…μ¤νΈ κµ¬μ„± (μ„¤μ •, μ›κ³ )
      β–Ό
5. LLM API νΈμ¶ (OpenAI/Claude)
      β–Ό
6. μ‘λ‹µ ν›„μ²λ¦¬
      β–Ό
7. ν΄λΌμ΄μ–ΈνΈ μ „μ†΅
```

---

*λ²„μ „: 1.0 | μ‘μ„±μΌ: 2026λ…„ 1μ›”*
